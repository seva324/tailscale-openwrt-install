# Mac 版 - Tailscale 安装脚本（省空间版）

## 第1步：下载 Tailscale
在终端中执行：
```bash
curl -L -o /tmp/tailscale.tgz https://pkgs.tailscale.com/stable/tailscale_1.94.2_arm64.tgz
```

## 第2步：复制到路由器（直接存到数据目录）
```bash
scp /tmp/tailscale.tgz root@192.168.31.1:/data/other/tailscale.tgz
```
提示输入密码时，输入：admin

## 第3步：SSH 登录路由器
```bash
ssh root@192.168.31.1
```
提示输入密码时，输入：admin

## 第4步：在路由器上直接解压安装
登录后，在路由器命令行中执行：

```bash
cd /data/other
rm -rf tailscale tailscale.tgz  # 清理旧文件
tar -xzf tailscale.tgz          # 直接解压
mkdir -p tailscale
cp tailscale_1.94.2_arm64/tailscale tailscale/
cp tailscale_1.94.2_arm64/tailscaled tailscale/
chmod +x tailscale/tailscale tailscale/tailscaled
rm -rf tailscale_1.94.2_arm64 tailscale.tgz  # 删除压缩包和临时文件，释放空间
```

## 第5步：启动 Tailscale
```bash
/data/other/tailscale/tailscaled --tun=userspace-networking --statedir=/data/other/tailscale/state --socket=/data/other/tailscale/tailscaled.sock &
sleep 3
/data/other/tailscale/tailscale --socket=/data/other/tailscale/tailscaled.sock up --authkey=tskey-auth-kDLkGkbib221CNTRL-z24MXHfDbdSPvDWHb1gacSjaueU7Dojs --operator=root
/data/other/tailscale/tailscale --socket=/data/other/tailscale/tailscaled.sock status
```

## 开机自启
如果需要开机自启，将以下内容添加到路由器启动脚本：
```bash
/data/other/tailscale/tailscaled --tun=userspace-networking --statedir=/data/other/tailscale/state --socket=/data/other/tailscale/tailscaled.sock &
sleep 3
/data/other/tailscale/tailscale --socket=/data/other/tailscale/tailscaled.sock up --authkey=tskey-auth-kDLkGkbib221CNTRL-z24MXHfDbdSPvDWHb1gacSjaueU7Dojs --operator=root
```
